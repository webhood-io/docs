# Deployment

## Prerequisites

- [Docker](https://docs.docker.com/install/)
- [Docker Compose](https://docs.docker.com/compose/install/)
- Common cli tools (e.g. `curl`, `wget`)
- Git

## Deployment

1. Clone the deployment repo
   This git repo contains the `docker-compose.yml` file as well as other deployment-only related files.

```shell copy
git clone https://github.com/webhood-io/webhood.git --depth=1 --branch=main
cd webhood
```

2. Copy the example `.env` file in the root directory of the project and modify the following environment variables:

```shell copy
cp .env.example .env
```

```text filename=".env"
EXTERNAL_URL=https://localhost:8443
SCANNER_TOKEN=
...
```

Other variables are optional and can be set later as documented [here](reference/configuration).

3. Create a service token for the scanner

```shell copy
docker compose run backend migrate
docker compose run backend create_scanner_token
```

Save this into your `.env` as `SCANNER_TOKEN`

4. Run `docker compose up -d` to start the application

import { Tab, Tabs } from "nextra-theme-docs"

<Tabs items={["docker", "docker-compose"]}>
  <Tab>
      ```shell copy
      docker compose up -d
      ```
  </Tab>
  <Tab>
      ```shell copy
      docker-compose up -d
      ```
  </Tab>
</Tabs>

5. Create a user

```shell copy
random=$(openssl rand -base64 16) # generate some random string, or just make your own password
docker compose run backend create_user -u admin -p $random
echo "Password is:" $random for user 'admin'
```


7. Start using it

Navigate to `http://localhost:8443` and login with the account you created in step `6`

